{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./src/Utility/MathUtil.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldGet.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./src/Input/Cursor.js","webpack:///./src/Input/Input.js","webpack:///./src/Audio/Audio.js","webpack:///./src/Positionables/Camera.js","webpack:///./src/Drawing/CanvasRenderer.js","webpack:///./src/Logging/Log.js","webpack:///./src/GameTime.js","webpack:///./src/FrostFlake.js","webpack:///./src/Positionables/Sprite.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./src/Data/Data.js","webpack:///./src/Drawing/Frame.js","webpack:///./src/Views/View.js","webpack:///./src/Positionables/RepositionType.js","webpack:///./node_modules/@babel/runtime/helpers/classPrivateFieldSet.js","webpack:///./src/Positionables/Rectangle.js","webpack:///./src/Input/Keys.js","webpack:///./src/Positionables/Shape.js","webpack:///./src/Input/Mouse.js","webpack:///./src/Positionables/Positionable.js","webpack:///./src/Positionables/Circle.js","webpack:///./demos/CollisionDemo.js","webpack:///./demos/InputDemo.js","webpack:///./demos/ManySpritesDemo.js","webpack:///./demos/ParentChildDemo.js","webpack:///./demos/RenderTargetDemo.js","webpack:///./src/Drawing/Animation.js","webpack:///./demos/AnimationDemo.js","webpack:///./src/index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","instance","Constructor","TypeError","MathUtil","num","angle","twoPi","Math","PI","v1","v2","dx","x","dy","y","normalizeAngle","atan2","min","max","range","random","len","vectorLength","length","pow","abs","sqrt","val","_defineProperties","target","props","descriptor","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","receiver","privateMap","self","ReferenceError","subClass","superClass","constructor","_typeof","assertThisInitialized","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","Cursor","worldX","FrostFlake","Game","camera","worldY","cursorX","canvas","width","cursorY","invert","height","changeX","changeY","Input","cursor","window","addEventListener","e","onKeyDown","onKeyUp","onMouseMove","onMouseDown","onMouseUp","onEnterCanvas","onExitCanvas","update","btn","charCode","keyName","Keys","btnCode","btnName","Mouse","audio","enable","isInFrame","preventDefault","setHardwarePosition","offsetX","offsetY","which","stopPropagation","keyCode","Audio","context","AudioContext","state","resume","url","audioLoaded","src","createBufferSource","buffer","connect","destination","start","Log","warn","loadSound","AudioBuffer","me","Data","load","response","ArrayBuffer","decodeAudioData","decoded","xhr","status","Camera","rotation","lastPosition","position","resolution","antialias","velocity","acceleration","drag","Rectangle","CanvasRenderer","background","getContext","imageName","positionables","contextCache","cvs","document","createElement","draw","loadImage","toDataURL","scale","transX","transY","save","imageSmoothingEnabled","fillStyle","fillRect","translate","drawPositionable","restore","positionable","Positionable","visible","Sprite","drawSprite","Circle","drawCircle","drawRect","circle","strokeStyle","color","beginPath","arc","radius","stroke","rect","axisAligned","rotate","absolutePosition","strokeRect","sprite","transRot","alpha","globalAlpha","tex","getItem","texture","msg","Error","frame","Frame","drawImage","left","top","showDebug","collision","children","level","debug","0","1","2","3","setLevel","write","levelName","console","log","GameTime","startTime","Date","lastFrameTime","frameSeconds","gameTimeSeconds","lastFrame","getTime","currentFrame","frameDelta","MAX_FRAME_DELTA","recentFrames","push","FPS_SAMPLES","shift","ave","fps","view","View","input","renderer","newView","time","setInterval","initialized","shape","parent","absPos","parentAbsPos","getAbsolutePosition","magnitude","cos","sin","animation","superPropBase","_get","Reflect","base","desc","getOwnPropertyDescriptor","fetch","ok","skipCache","promise","img","Image","addItem","loadResponse","json","arrayBuffer","item","itemExists","seconds","a","initialize","sortNeeded","sort","b","layer","indexOf","tryRemoveItem","list","splice","destroy","removeChild","destroyChild","RepositionType","set","repoType","None","thisWeight","targetWeight","repoForce","Shape","collideCircleVsRect","collideRectVsRect","circle1","circle2","repositionType","circle1Weight","circle2Weight","forceScale","delta","vectorSubtract","distApart","collideDist","overlap","didCollide","normalDelta","vectorNormalize","circle1Factor","circle2Factor","root","Bounce","velocityLength","vectorDot","circle1VelocityAdjust","vectorMultiply","circle2VelocityAdjust","circleWeight","rectWeight","xCollisionDist","xDist","xOverlap","yCollisionDist","yDist","yOverlap","sign","circleFactor","rectFactor","circleVelocityAdjust","rectVelocityAdjust","rect1","rect2","rect1Weight","rect2Weight","rect1Factor","rect2Factor","r1VelocityAdjust","r2VelocityAdjust","addChild","amt","preUpdate","deltaSquaredHalved","applyRotationAccelerationAndDrag","detach","destroyed","collideCircleVsCircle","CollisionDemo","createWalls","createBalls","balls","ball1","j","ball2","collideWith","randomInRange","k","walls","wall","w1","w2","InputDemo","cursorSprite","cam","keyDown","W","S","A","D","buttonDown","Left","ManySpritesDemo","aveFps","ParentChildDemo","parentFlake","childFlake1","childFlake2","child","RenderTargetDemo","sprites","spriteCount","TEXTURE","renderCustomImage","TARGETNAME","renderedSprite","Animation","frameIndex","restart","playing","frames","looping","AnimationDemo","runCycle","getElementById","ff","buttons","getElementsByTagName","id","evt","clear","reset","eval","runtime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","toString","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","_setPrototypeOf"],"mappings":"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G,I,IAPHA,E,WAQC,I,IARDA,E,MASJ,I,IATIA,E,QAUF,I,IAVEA,E,SAWD,I,IAXCA,E,WAYC,I,IAZDA,E,MAaJ,I,IAbIA,E,OAcH,I,IAdGA,E,OAeH,I,IAfGA,E,KAgBL,I,IAhBKA,E,QAiBF,I,IAjBEA,E,OAkBH,I,IAlBGA,E,SAmBD,I,IAnBCA,E,SAoBD,I,IApBCA,E,OAqBH,I,IArBGA,E,OAsBH,I,IAtBGA,E,OAuBH,I,IAvBGA,E,OAwBH,I,IAxBGA,E,OAyBH,I,IAzBGA,E,OA0BH,I,IA1BGA,E,OA2BH,I,IA3BGA,E,OA4BH,I,IA5BGA,E,OA6BH,I,IA7BGA,E,OA8BH,I,IA9BGA,E,IA+BN,I,IA/BMA,E,IAgCN,I,IAhCMA,E,IAiCN,I,IAjCMA,E,IAkCN,I,IAlCMA,E,IAmCN,I,IAnCMA,E,IAoCN,I,IApCMA,E,IAqCN,I,IArCMA,E,IAsCN,I,IAtCMA,E,IAuCN,I,IAvCMA,E,IAwCN,I,IAxCMA,E,IAyCN,I,IAzCMA,E,IA0CN,I,IA1CMA,E,IA2CN,I,IA3CMA,E,IA4CN,I,IA5CMA,E,IA6CN,I,IA7CMA,E,IA8CN,I,IA9CMA,E,IA+CN,I,IA/CMA,E,IAgDN,I,IAhDMA,E,IAiDN,I,IAjDMA,E,IAkDN,I,IAlDMA,E,IAmDN,I,IAnDMA,E,IAoDN,I,IApDMA,E,IAqDN,I,IArDMA,E,IAsDN,I,IAtDMA,E,IAuDN,I,IAvDMA,E,IAwDN,I,IAxDMA,E,UAyDA,I,IAzDAA,E,aA0DG,I,IA1DHA,E,OA2DH,I,IA3DGA,E,OA4DH,I,IA5DGA,E,OA6DH,I,IA7DGA,E,OA8DH,I,IA9DGA,E,OA+DH,K,IA/DGA,E,OAgEH,K,IAhEGA,E,OAiEH,K,IAjEGA,E,OAkEH,K,IAlEGA,E,OAmEH,K,IAnEGA,E,OAoEH,K,IApEGA,E,UAqEA,K,IArEAA,E,UAsEA,K,IAtEAA,E,WAuEC,K,IAvEDA,E,YAwEE,K,IAxEFA,E,WAyEC,K,IAzEDA,E,KA0EL,K,IA1EKA,E,KA2EL,K,IA3EKA,E,KA4EL,K,IA5EKA,E,KA6EL,K,IA7EKA,E,KA8EL,K,IA9EKA,E,KA+EL,K,IA/EKA,E,KAgFL,K,IAhFKA,E,KAiFL,K,IAjFKA,E,KAkFL,K,IAlFKA,E,MAmFJ,K,IAnFIA,E,MAoFJ,K,IApFIA,E,MAqFJ,K,IArFIA,E,UAsFA,K,IAtFAA,E,aAuFG,K,IAvFHA,E,aAwFG,K,IAxFHA,E,eAyFK,K,IAzFLA,E,YA0FE,K,IA1FFA,E,QA2FF,K,IA3FEA,E,QA4FF,K,IA5FEA,E,OA6FH,K,IA7FGA,E,SA8FD,K,IA9FCA,E,eA+FK,K,IA/FLA,E,OAgGH,K,IAhGGA,E,cAiGI,K,IAjGJA,E,YAkGE,K,IAlGFA,E,eAmGK,K,IAnGLA,E,cAoGI,K,IApGJA,E,QAqGF,a,IArGEA,E,QAsGF,O,IAtGEA,E,SAuGD,S,IAvGCA,E,SAwGD,S,IAxGCA,E,SAyGD,Q,IAzGCA,E,SA0GD,O,IA1GCA,E,SA2GD,c,IA3GCA,E,SA4GD,Y,IA5GCA,E,SA6GD,O,IA7GCA,E,SA8GD,S,IA9GCA,E,SA+GD,U,IA/GCA,E,SAgHD,Y,IAhHCA,E,SAiHD,O,IAjHCA,E,SAkHD,Q,IAlHCA,E,SAmHD,Q,IAnHCA,E,SAoHD,M,IApHCA,E,SAqHD,S,IArHCA,E,SAsHD,Q,IAtHCA,E,SAuHD,U,IAvHCA,E,SAwHD,U,IAxHCA,E,SAyHD,Q,IAzHCA,E,SA0HD,Q,IA1HCA,E,SA2HD,Q,IA3HCA,E,SA4HD,Q,IA5HCA,E,SA6HD,Q,IA7HCA,E,SA8HD,Q,IA9HCA,E,SA+HD,Q,IA/HCA,E,SAgID,Q,IAhICA,E,SAiID,Q,IAjICA,E,SAkID,Q,IAlICA,E,SAmID,K,IAnICA,E,SAoID,K,IApICA,E,SAqID,K,IArICA,E,SAsID,K,IAtICA,E,SAuID,K,IAvICA,E,SAwID,K,IAxICA,E,SAyID,K,IAzICA,E,SA0ID,K,IA1ICA,E,SA2ID,K,IA3ICA,E,SA4ID,K,IA5ICA,E,SA6ID,K,IA7ICA,E,SA8ID,K,IA9ICA,E,SA+ID,K,IA/ICA,E,SAgJD,K,IAhJCA,E,SAiJD,K,IAjJCA,E,SAkJD,K,IAlJCA,E,SAmJD,K,IAnJCA,E,SAoJD,K,IApJCA,E,SAqJD,K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","file":"ff.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 31);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","export default class MathUtil {\r\n\r\n    static invert(num) {\r\n        return 0 - num;\r\n    }\r\n\r\n    static normalizeAngle(angle) {\r\n        const twoPi = Math.PI * 2;\r\n\r\n        while(angle < 0) {\r\n            angle += twoPi;\r\n        }\r\n\r\n        while(angle > twoPi) {\r\n            angle -= twoPi;\r\n        }\r\n\r\n        return angle;\r\n    }\r\n\r\n    static angleTo(v1, v2) {\r\n        let dx = v2.x - v1.x;\r\n        let dy = v2.y - v1.y;\r\n        return MathUtil.normalizeAngle(Math.atan2(dy, dx));\r\n    }\r\n\r\n    static randomInRange(min, max) {\r\n        const range = max - min;\r\n        const val = Math.random() * range;\r\n        return val + min;\r\n    }\r\n\r\n    static vectorSubtract(v1, v2) {\r\n        if(typeof v2 === \"number\") {\r\n            return {\r\n                x: v1.x - v2,\r\n                y: v1.y - v2\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                x: v1.x - v2.x,\r\n                y: v1.y - v2.y\r\n            };\r\n        }\r\n    }\r\n\r\n    static vectorMultiply(v1, v2) {\r\n        if(typeof v2 === \"number\") {\r\n            return {\r\n                x: v1.x * v2,\r\n                y: v1.y * v2\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                x: v1.x * v2.x,\r\n                y: v1.y * v2.y\r\n            };\r\n        }\r\n    }\r\n\r\n    static vectorNormalize(v1) {\r\n        let len = MathUtil.vectorLength(v1);\r\n        return len == 0 ? v1 : {x: (v1.x / len), y: (v1.y / len)};\r\n    }\r\n\r\n    static vectorDot(v1, v2) {\r\n        return (v1.x * v2.x) + (v1.y * v2.y);\r\n    }\r\n\r\n    static vectorLength(v1) {\r\n        return MathUtil.length(v1.x, v1.y);\r\n    }\r\n\r\n    static length(x, y) {\r\n        let len = Math.pow(x, 2) + Math.pow(y, 2);\r\n        return Math.abs(Math.sqrt(len));\r\n    }\r\n\r\n    static clamp(val, min, max) {\r\n        val = Math.min(max, val);\r\n        val = Math.max(min, val);\r\n        return val;\r\n    }\r\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}\n\nmodule.exports = _classPrivateFieldGet;","module.exports = require(\"regenerator-runtime\");\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","import FrostFlake from '../FrostFlake.js';\r\nimport MathUtil from '../Utility/MathUtil.js';\r\n\r\nexport default class Cursor {\r\n    x = 0;\r\n    y = 0;\r\n    changeX = 0;\r\n    changeY = 0;\r\n    worldX = 0;\r\n    worldY = 0;\r\n    isInFrame = false;\r\n\r\n    update() {\r\n        this.worldX = FrostFlake.Game.camera.x + this.x;\r\n        this.worldY = FrostFlake.Game.camera.y + this.y;\r\n    }\r\n\r\n    setHardwarePosition(x, y) {\r\n        let cursorX = x - (FrostFlake.Game.canvas.width / 2);\r\n        let cursorY = MathUtil.invert(y) + (FrostFlake.Game.canvas.height / 2);\r\n        this.changeX = this.x - cursorX;\r\n        this.changeY = this.y - cursorY;\r\n        this.x = cursorX;\r\n        this.y = cursorY;\r\n    }\r\n}","import FrostFlake from '../FrostFlake.js';\r\nimport Cursor from './Cursor.js'\r\nimport Mouse from './Mouse.js';\r\nimport Keys from './Keys.js';\r\n\r\nexport default class Input {\r\n\r\n    cursor;\r\n\r\n    #keysDown = {};\r\n    #keysPushed = {};\r\n    #buttonsDown = {};\r\n    #buttonsPushed = {};\r\n\r\n    constructor() {\r\n        this.cursor = new Cursor();\r\n\r\n        window.addEventListener(\"keydown\", (e) => this.onKeyDown(e));\r\n        window.addEventListener(\"keyup\", (e) => this.onKeyUp(e));\r\n        window.addEventListener(\"mousemove\", (e) => this.onMouseMove(e));\r\n        window.addEventListener(\"mousedown\", (e) => this.onMouseDown(e));\r\n        window.addEventListener(\"mouseup\", (e) => this.onMouseUp(e));\r\n\r\n        FrostFlake.Game.canvas.addEventListener(\"mouseenter\", (e) => this.onEnterCanvas(e));\r\n        FrostFlake.Game.canvas.addEventListener(\"mouseleave\", (e) => this.onExitCanvas(e));\r\n    }\r\n\r\n    update() {\r\n        this.cursor.update();\r\n\r\n        // clear pushed keys\r\n        for(let key in this.#keysPushed) {\r\n            this.#keysPushed[key] = false;\r\n        }\r\n\r\n        // clear buttons pushed array\r\n        for(let btn in this.#buttonsPushed) {\r\n            this.#buttonsPushed[btn] = false;\r\n        }\r\n    }\r\n\r\n    keyDown(charCode) {\r\n        let keyName = Keys[\"char\" + charCode];\r\n        return this.#keysDown[keyName] === true;\r\n    }\r\n\r\n    keyPushed(charCode) {\r\n        let keyName = Keys[\"char\" + charCode];\r\n        return this.#keysPushed[keyName] === true;\r\n    }\r\n\r\n    buttonDown(btnCode) {\r\n        let btnName = Mouse[\"button\" + btnCode];\r\n        return this.#buttonsDown[btnName] === true;\r\n    }\r\n\r\n    buttonPushed(btnCode) {\r\n        let btnName = Mouse[\"button\" + btnCode];\r\n        return this.#buttonsPushed[btnName] === true;\r\n    }\r\n\r\n    stopPropagation(e) {\r\n        // HACK: browsers require a user interaction\r\n        // before they can play audio. When we stop\r\n        // event propagation, we also make sure audio\r\n        // is enabled\r\n        FrostFlake.Game.audio.enable();\r\n\r\n        if(this.cursor.isInFrame) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    // EVENT HANDLERS\r\n    onEnterCanvas(e) {\r\n        this.cursor.isInFrame = true;\r\n    }\r\n\r\n    onExitCanvas(e) {\r\n        this.cursor.isInFrame = false;\r\n    }\r\n\r\n\r\n    onMouseMove(e) {\r\n        this.cursor.setHardwarePosition(e.offsetX, e.offsetY);\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        let btnName = Mouse[\"button\" + e.which];\r\n        this.#buttonsDown[btnName] = true;\r\n        this.stopPropagation(e);\r\n    }\r\n\r\n    onMouseUp(e) {\r\n        let btnName = Mouse[\"button\" + e.which];\r\n        this.#buttonsDown[btnName] = false;\r\n        this.#buttonsPushed[btnName] = true;\r\n        this.stopPropagation(e);\r\n    }\r\n\r\n\r\n    onKeyDown(e) {\r\n        let keyName = Keys[\"char\" + e.keyCode];\r\n        this.#keysDown[keyName] = true;\r\n        this.stopPropagation(e);\r\n    }\r\n\r\n    onKeyUp(e) {\r\n        let keyName = Keys[\"char\" + e.keyCode];\r\n        this.#keysDown[keyName] = false;\r\n        this.#keysPushed[keyName] = true;\r\n        this.stopPropagation(e);\r\n    }\r\n}","import Data from \"../Data/Data.js\";\r\n\r\nexport default class Audio {\r\n    context;\r\n\r\n    #audioCache = {};\r\n\r\n    constructor() {\r\n        this.context = new AudioContext();\r\n    }\r\n\r\n    enable() {\r\n        if(this.context.state === 'suspended') {\r\n            this.context.resume();\r\n        }\r\n    }\r\n\r\n    playSound(url) {\r\n        // TODO: cache created buffers for reuse?\r\n        if(this.audioLoaded(url)) {\r\n            let src = this.context.createBufferSource();\r\n            src.buffer = this.#audioCache[url];\r\n            src.connect(this.context.destination);\r\n            src.start(0);\r\n            return src;\r\n        }\r\n        else {\r\n            FrostFlake.Log.warn(`Audio not loaded ${url}, attempting to load now.`);\r\n            this.loadSound(url);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    audioLoaded(url) {\r\n        if(url !== null && \r\n            url !== '' &&\r\n            url in this.#audioCache && \r\n            this.#audioCache[url] instanceof AudioBuffer) {\r\n                return true;\r\n            }\r\n        return false;\r\n    }\r\n\r\n    loadSound(url, success = null) {\r\n        let me = this;\r\n\r\n        // EARLY OUT: bad URL, audio context, or loading in progress\r\n        if(url == '' || \r\n            url == null || \r\n            url in this.#audioCache ||\r\n            this.context.state != 'running') {\r\n            return;\r\n        }\r\n\r\n        // insert placeholder so audio isn't loaded multiple times\r\n        // if load requests fire quickly\r\n        me.#audioCache[url] = \"...\";\r\n\r\n        Data.load(url, 'arraybuffer',\r\n            // success\r\n            function(response) {\r\n                if(response instanceof ArrayBuffer) {\r\n                    me.context.decodeAudioData(response,\r\n                        // decode succeeded\r\n                        function(decoded) {\r\n                            me.#audioCache[url] = decoded;\r\n                        },\r\n                        // failed to decode\r\n                        function() {\r\n                            FrostFlake.Log.error(`Failed to decode audio for: ${url}`);\r\n                        });\r\n                }\r\n                else {\r\n                    FrostFlake.Log.error(`Response was not an ArrayBuffer: ${url}`);\r\n                }\r\n            },\r\n            // fail\r\n            function(response) {\r\n                FrostFlake.Log.error(`Failed to load ${url} with response ${xhr.status}`);\r\n            });\r\n    }\r\n}","import Rectangle from './Rectangle.js'\r\n\r\nexport default class Camera extends Rectangle{\r\n    resolution = 1;\r\n    antialias = false;\r\n    lastPosition = {x: 0, y: 0, rotation: 0}\r\n\r\n    constructor(width, height) {\r\n        super(width, height);\r\n    }\r\n\r\n    update() {\r\n        this.lastPosition.x = this.position.x;\r\n        this.lastPosition.y = this.position.y;\r\n        this.lastPosition.rotation = this.position.rotation;\r\n        super.update();\r\n    }\r\n\r\n    reset() {\r\n        this.resolution = 1;\r\n        this.antialias = false;\r\n        this.position = {x: 0, y: 0, rotation: 0}\r\n        this.velocity = {x: 0, y: 0, rotation: 0}\r\n        this.acceleration = {x: 0, y: 0, rotation: 0}\r\n        this.drag = 0;\r\n    }\r\n}","import FrostFlake from '../FrostFlake.js';\r\nimport Sprite from '../Positionables/Sprite.js';\r\nimport Positionable from '../Positionables/Positionable.js';\r\nimport Circle from '../Positionables/Circle.js';\r\nimport Rectangle from '../Positionables/Rectangle.js';\r\nimport Camera from '../Positionables/Camera.js';\r\nimport Frame from './Frame.js'\r\nimport MathUtil from '../Utility/MathUtil.js';\r\nimport Data from '../Data/Data.js';\r\n\r\nexport default class CanvasRenderer {\r\n    context;\r\n\r\n    constructor(canvas, background) {\r\n        this.context = canvas.getContext(\"2d\");\r\n        this.background = background;\r\n    }\r\n\r\n    async renderCustomImage(imageName, positionables, width, height, background = \"rgba(0,0,0,0)\") {\r\n        // cache context\r\n        let contextCache = this.context;\r\n\r\n        let camera = new Camera();\r\n        camera.background = background;\r\n        let cvs = document.createElement('canvas');\r\n        cvs.height = height;\r\n        cvs.width = width;\r\n        this.context = cvs.getContext('2d');\r\n        this.background = background;\r\n        this.draw(positionables, camera);\r\n\r\n        // restore context\r\n        this.context = contextCache;\r\n\r\n        await Data.loadImage(cvs.toDataURL(), imageName);\r\n    }\r\n    \r\n    draw(positionables, camera) {\r\n        let scale = 1 / camera.resolution;\r\n        let transX = MathUtil.invert(camera.x) + (this.context.canvas.width / 2) * camera.resolution;\r\n        let transY = camera.y + (this.context.canvas.height / 2) * camera.resolution;\r\n\r\n        this.context.save();\r\n        this.context.imageSmoothingEnabled = camera.antialias;\r\n        this.context.fillStyle = camera.background;\r\n        this.context.fillRect(0, 0, this.context.canvas.width, this.context.canvas.height);\r\n        this.context.scale(scale, scale);\r\n        this.context.translate(transX, transY);\r\n\r\n        for(let i = 0; i < positionables.length; i++) {\r\n            this.drawPositionable(positionables[i]);\r\n        }\r\n        this.context.restore();\r\n    }\r\n\r\n    drawPositionable(positionable) {\r\n        if(positionable instanceof Positionable && positionable.visible) {\r\n            if(positionable instanceof Sprite) {\r\n                this.drawSprite(positionable);\r\n            }\r\n\r\n            else if(positionable instanceof Circle) {\r\n                this.drawCircle(positionable);\r\n            }\r\n\r\n            else if(positionable instanceof Rectangle) {\r\n                this.drawRect(positionable);\r\n            }\r\n        }\r\n    }\r\n\r\n    drawCircle(circle) {\r\n        let transX = circle.x;\r\n        let transY = MathUtil.invert(circle.y);\r\n        this.context.save();\r\n        this.context.translate(transX, transY);\r\n\r\n        this.context.strokeStyle = circle.color;\r\n        this.context.beginPath();\r\n                this.context.arc(\r\n                    0,\r\n                    0,\r\n                    circle.radius,\r\n                    0,\r\n                    Math.PI * 2\r\n                );\r\n                this.context.stroke();\r\n        this.context.restore();\r\n    }\r\n\r\n    drawRect(rect, axisAligned = true) {\r\n        let transX = rect.x;\r\n        let transY = MathUtil.invert(rect.y);\r\n\r\n        this.context.save();\r\n        this.context.translate(transX, transY);\r\n\r\n        if(axisAligned) {\r\n            this.context.rotate(rect.absolutePosition.rotation);\r\n        }\r\n\r\n        this.context.strokeStyle = rect.color;\r\n        this.context.strokeRect(\r\n            -rect.width / 2,\r\n            -rect.height / 2,\r\n            rect.width,\r\n            rect.height);\r\n\r\n        this.context.restore();\r\n    }\r\n\r\n    drawSprite(sprite) {\r\n        let transX = sprite.x;\r\n        let transY = MathUtil.invert(sprite.y);\r\n        let transRot = -sprite.rotation;\r\n        let alpha = sprite.alpha;\r\n\r\n        this.context.save();\r\n        this.context.translate(transX, transY);\r\n        this.context.rotate(transRot);\r\n        this.context.globalAlpha = alpha;\r\n\r\n        let tex = Data.getItem(sprite.texture);\r\n        if(tex == null) {\r\n            const msg = `Tried to render bad texture: ${sprite.texture}. ` +\r\n                `Sprite wasn't given a texture or texture wasn't preloaded`;\r\n            FrostFlake.Log.error(msg);\r\n            throw Error(msg);\r\n        }\r\n\r\n        // if null frame, force sprite to have a frame matching its width\r\n        if(sprite.frame == null) {\r\n            sprite.frame = new Frame();\r\n            sprite.frame.width = tex.width;\r\n            sprite.frame.height = tex.height;\r\n        }\r\n\r\n        this.context.drawImage(\r\n            tex,\r\n            sprite.frame.left,\r\n            sprite.frame.top,\r\n            sprite.frame.width,\r\n            sprite.frame.height,\r\n            sprite.frame.width / -2 * sprite.scale,\r\n            sprite.frame.height / -2 * sprite.scale,\r\n            sprite.frame.width * sprite.scale,\r\n            sprite.frame.height * sprite.scale\r\n        );\r\n\r\n        // draw debug visualizations\r\n        if(FrostFlake.Game.showDebug) {\r\n            // draw sprite bounds\r\n            this.context.strokeStyle = sprite.color;\r\n            this.context.strokeRect(\r\n                -sprite.frame.width / 2 * sprite.scale,\r\n                -sprite.frame.height / 2 * sprite.scale,\r\n                sprite.frame.width * sprite.scale,\r\n                sprite.frame.height * sprite.scale);\r\n        }\r\n\r\n        // reset alpha\r\n        this.context.globalAlpha = 1;\r\n\r\n        // draw collision shapes\r\n        if(FrostFlake.Game.showDebug) {\r\n            this.drawPositionable(sprite.collision);\r\n        }\r\n\r\n        // recurse on children\r\n        if(sprite.children.length > 0) {\r\n            for(let i = 0; i < sprite.children.length; i++) {\r\n                this.drawPositionable(sprite.children[i], this.context);\r\n            }\r\n        }\r\n\r\n        // restore context\r\n        this.context.restore();\r\n    }\r\n}","export default class Log {\r\n    #level;\r\n\r\n    #levels = {\r\n        debug: 0,\r\n        info: 1,\r\n        warn: 2,\r\n        error: 3\r\n    };\r\n\r\n    #reverseLevels = {\r\n        0: \"debug\",\r\n        1: \"info\",\r\n        2: \"warn\",\r\n        3: \"error\"\r\n    };\r\n\r\n    constructor(level = \"debug\") {\r\n        this.setLevel(level);\r\n    }\r\n\r\n    setLevel(level) {\r\n        if(level in this.#levels) {\r\n            this.#level = level;\r\n        }\r\n        else {\r\n            throw `${level} is not a valid debug level`;\r\n        }\r\n    }\r\n\r\n    debug(msg) {\r\n        this.write(this.#levels.debug, msg);\r\n    }\r\n\r\n    info(msg) {\r\n        this.write(this.#levels.info, msg);\r\n    }\r\n\r\n    warn(msg) {\r\n        this.write(this.#levels.warn, msg);\r\n    }\r\n\r\n    error(msg) {\r\n        this.write(this.#levels.error, msg);\r\n    }\r\n\r\n    write(level, msg) {\r\n        if(this.#levels[this.#level] < level) {\r\n            let levelName = this.#reverseLevels[level];\r\n            console.log(`${levelName}: ${msg}`);\r\n        }\r\n    }\r\n}","export default class GameTime {\r\n\r\n    // number of milliseconds that can elapse between\r\n    // frames before the GameTime will reset the delta\r\n    // to zero. Prevents runaway game behavior if major\r\n    // hiccups happen\r\n    static MAX_FRAME_DELTA = 500;\r\n    static FPS_SAMPLES = 120;\r\n\r\n    startTime;\r\n    lastFrameTime;\r\n    frameSeconds;\r\n    gameTimeSeconds;\r\n    recentFrames = [];\r\n\r\n    constructor() {\r\n        this.startTime = new Date();\r\n        this.lastFrameTime = new Date();\r\n        this.frameSeconds = 0;\r\n        this.gameTimeSeconds = 0;\r\n    }\r\n\r\n    update() {\r\n        let lastFrame = this.lastFrameTime.getTime();\r\n        let currentFrame = new Date();\r\n        let frameDelta = currentFrame - lastFrame;\r\n\r\n        if(frameDelta < GameTime.MAX_FRAME_DELTA) {\r\n\r\n            // convert delta (milliseconds) into seconds\r\n            this.frameSeconds = frameDelta / 1000;\r\n        }\r\n        else {\r\n            this.frameSeconds = 0;\r\n        }\r\n\r\n        this.gameTimeSeconds += this.frameSeconds;\r\n        this.lastFrameTime = currentFrame;\r\n\r\n        this.recentFrames.push(this.frameSeconds);\r\n        if(this.recentFrames.length > GameTime.FPS_SAMPLES) {\r\n            this.recentFrames.shift()\r\n        }\r\n    }\r\n\r\n    aveFps() {\r\n        let ave = 0;\r\n        for(let i = 0; i < this.recentFrames.length; i++) {\r\n            ave += this.recentFrames[i];\r\n        }\r\n        return 1 / (ave / this.recentFrames.length);\r\n    }\r\n}","import Input from './Input/Input.js';\r\nimport View from './Views/View.js';\r\nimport Audio from './Audio/Audio.js';\r\nimport Camera from './Positionables/Camera.js';\r\nimport CanvasRenderer from './Drawing/CanvasRenderer.js';\r\nimport Log from './Logging/Log.js';\r\nimport GameTime from './GameTime.js';\r\n\r\nexport default class FrostFlake {\r\n    static Game;\r\n    static Log;\r\n\r\n    #timer;\r\n    #view;\r\n\r\n    time;\r\n    fps;\r\n    camera;\r\n    canvas;\r\n    renderer;\r\n    background;\r\n    input;\r\n    audio;\r\n    showDebug = false;\r\n\r\n    set view(newView) {\r\n        newView.start();\r\n        this.#view = newView;\r\n    }\r\n\r\n    get view() {\r\n        return this.#view;\r\n    }\r\n\r\n    constructor(canvas, fps = 30, background = \"rgb(0,0,0)\") {\r\n        FrostFlake.Game = this;\r\n        FrostFlake.Log = new Log();\r\n\r\n        this.canvas = canvas;\r\n        this.fps = fps;\r\n        this.background = background;\r\n        this.view = new View();\r\n        this.input = new Input();\r\n        this.audio = new Audio();\r\n        this.camera = new Camera(this.canvas.width, this.canvas.height);\r\n        this.camera.background = background;\r\n        this.renderer = new CanvasRenderer(this.canvas);\r\n\r\n        FrostFlake.Log.info(\"FrostFlake instance created...\");\r\n    }\r\n\r\n    start() {\r\n        FrostFlake.Log.info(\"Starting FrostFlake...\");\r\n\r\n        this.time = new GameTime();\r\n\r\n        let me = this;\r\n        this.#timer = window.setInterval( function () {\r\n            me.update();\r\n        }, 1000 / this.fps);\r\n    }\r\n\r\n    update() {\r\n        this.time.update();\r\n        this.camera.update();\r\n\r\n        if(this.view.initialized) {\r\n            this.view.update();\r\n        }\r\n\r\n        // Note: input must be updated after the view\r\n        // this is because an input could come in and\r\n        // be cleared before the view is updated and\r\n        // can respond in the game loop\r\n        this.input.update();\r\n\r\n        if(this.view.initialized) {\r\n            this.renderer.draw(this.view.children, this.camera, this.canvas, this.background);\r\n        }\r\n        else {\r\n            // TODO: draw loading icon?\r\n        }\r\n    }\r\n}","import Positionable from './Positionable.js';\r\nimport Circle from './Circle.js';\r\n\r\nexport default class Sprite extends Positionable{\r\n\r\n    alpha = 1;\r\n    frame = null;\r\n    texture = null;\r\n    animation = null;\r\n    scale = 1;\r\n    #collisionShape = null;\r\n\r\n    get collision() {\r\n        return this.#collisionShape;\r\n    }\r\n\r\n    set collision(shape) {\r\n        if(this.#collisionShape) {\r\n            this.#collisionShape.parent = null;\r\n        }\r\n\r\n        this.#collisionShape = shape;\r\n        this.#collisionShape.parent = this;\r\n    }\r\n\r\n    constructor(texture = null) {\r\n        super();\r\n        this.texture = texture;\r\n        this.collision = new Circle();\r\n\r\n        // set sprite outlines to faint color\r\n        this.color = \"rgba(255, 255, 255, 0.2)\";\r\n    }\r\n\r\n    getAbsolutePosition() {\r\n        let absPos = {x: 0, y: 0, rotation: 0};\r\n\r\n        if(this.parent != null) {\r\n            let parentAbsPos = this.parent.getAbsolutePosition();\r\n            let magnitude = MathUtil.length(this.x, this.y);\r\n            absPos.x = Math.cos(parentAbsPos.rotation) * magnitude + parentAbsPos.x;\r\n            absPos.y = Math.sin(parentAbsPos.rotation) * magnitude + parentAbsPos.y;\r\n            absPos.rotation = parentAbsPos.rotation + this.rotation;\r\n        }\r\n        else {\r\n            absPos.x = this.x;\r\n            absPos.y = this.y;\r\n            absPos.rotation = this.rotation;\r\n        }\r\n\r\n        return absPos;\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n\r\n        // play animation\r\n        if(this.animation) {\r\n            this.animation.update();\r\n            this.texture = this.animation.texture;\r\n            this.frame = this.animation.currentFrame;\r\n        }\r\n    }\r\n}","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import FrostFlake from '../FrostFlake.js';\r\n\r\nexport default class Data {\r\n\r\n    static #cache = {};\r\n\r\n    static async loadResponse(src) {\r\n        const response = await fetch(src);\r\n        if(!response.ok) {\r\n            const msg = `Bad network response for ${src}`;\r\n            FrostFlake.Log.error(msg)\r\n            throw new Error(msg);\r\n        }\r\n    }\r\n\r\n    static async loadImage(src, key = null, skipCache = false) {\r\n\r\n        // EARLY OUT: return from cache\r\n        if(src in this.#cache && !skipCache) {\r\n            return this.#cache[src];\r\n        }\r\n\r\n        const promise = new Promise((resolve, reject) => {\r\n            const img = new Image();\r\n            img.addEventListener('load', () => resolve(img));\r\n            img.addEventListener('error', () => reject(err));\r\n            img.src = src;\r\n        });\r\n\r\n        let img = await promise;\r\n\r\n        if(!skipCache) {\r\n            let keyName = key == null ? src : key;\r\n            Data.addItem(keyName, img);\r\n        }\r\n\r\n        return img;\r\n    }\r\n\r\n    static async loadJson(src) {\r\n        const response = await Data.loadResponse(src);\r\n        return response.json();\r\n    }\r\n\r\n    static async loadAudio(src) {\r\n        const response = await Data.loadResponse(src);\r\n        return response.arrayBuffer();\r\n    }\r\n    \r\n    \r\n    static clearCache() {\r\n        Data.#cache = {};\r\n    }\r\n\r\n    static itemExists(key) {\r\n        if(key in Data.#cache && Data.#cache[key] !== null) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static addItem(key, item) {\r\n        if(Data.itemExists(key)) {\r\n            FrostFlake.Log.warn(`Item already exists for ${key}, overwriting.`);\r\n        }\r\n        Data.#cache[key] = item;\r\n    }\r\n\r\n    static removeItem(key) {\r\n        if(Data.itemExists(key)) {\r\n            delete Data.#cache[key];\r\n        }\r\n    }\r\n\r\n    static getItem(key) {\r\n        if(Data.itemExists(key)) {\r\n            return Data.#cache[key];\r\n        }\r\n        else {\r\n            FrostFlake.Log.warn(`Bad key requested from cache: ${key}`);\r\n            return null;\r\n        }\r\n    }\r\n}","export default class Frame {\r\n    top = 0;\r\n    left = 0;\r\n    width = 0;\r\n    height = 0;\r\n    seconds = 0;\r\n\r\n    constructor(left = 0, top = 0, width = 0, height = 0, seconds = 0) {\r\n        this.left = left;\r\n        this.top = top;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.seconds = seconds;\r\n    }\r\n}","export default class View {\r\n    children = [];\r\n    sortNeeded = false;\r\n    initialized = false;\r\n\r\n    constructor() {\r\n        this.initialized = false;\r\n    }\r\n\r\n    async initialize() {\r\n    }\r\n\r\n    start() {\r\n        (async () => {\r\n            await this.initialize();\r\n            this.initialized = true;\r\n        })();\r\n    }\r\n\r\n    update() {\r\n        if(this.sortNeeded) {\r\n            this.children.sort((a, b) => {\r\n                return a.layer - b.layer;\r\n            });\r\n\r\n            this.sortNeeded = false;\r\n        }\r\n\r\n        for (let i = 0; i < this.children.length; i++) {\r\n            this.children[i].update();\r\n        }\r\n    }\r\n\r\n    addChild(positionable) {\r\n        if (this.children.indexOf(positionable) > -1) {\r\n            throw \"positionable has already been added to view.\"\r\n        }\r\n\r\n        this.children.push(positionable);\r\n\r\n        // We can't sort the list here because we could be\r\n        // in the middle of updating, make sure the list is\r\n        // sorted before the next frame\r\n        this.sortNeeded = true;\r\n    }\r\n\r\n    removeChild(positionable) {\r\n        this.tryRemoveItem(positionable, this.children);\r\n    }\r\n\r\n    tryRemoveItem(item, list) {\r\n        let i = list.indexOf(item);\r\n        if (i > -1) {\r\n            list.splice(i, 1);\r\n        }\r\n    }\r\n\r\n    destroyChild(positionable) {\r\n        positionable.destroy();\r\n        this.removeChild(positionable);\r\n    }\r\n\r\n    clearChildren() {\r\n        this.children = [];\r\n    }\r\n\r\n    destroy() {\r\n        for (let i = this.children.length - 1; i > -1; i--) {\r\n            this.destroyChild(this.children[i]);\r\n        }\r\n\r\n        // TODO: clear texture cache?\r\n    }\r\n}","// pseudo enum\r\nexport default class RepositionType {\r\n    static None = 0;\r\n    static Move = 1;\r\n    static Bounce = 2;\r\n}","function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n\n  return value;\n}\n\nmodule.exports = _classPrivateFieldSet;","import Shape from './Shape.js';\r\nimport Circle from './Circle.js';\r\n\r\nexport default class Rectangle extends Shape {\r\n    width;\r\n    height;\r\n\r\n    get left() {\r\n        return this.absolutePosition.x - this.width / 2;\r\n    }\r\n\r\n    get right() {\r\n        return this.absolutePosition.x + this.width / 2;\r\n    }\r\n\r\n    get top() {\r\n        return this.absolutePosition.y + this.height / 2;\r\n    }\r\n\r\n    get bottom() {\r\n        return this.absolutePosition.y - this.height / 2;\r\n    }\r\n\r\n    constructor(width, height) {\r\n        super();\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    collideWith(shape, repoType = RepositionType.None, thisWeight = 1, targetWeight = 0, repoForce = 1) {\r\n        if(shape instanceof Circle) {\r\n            return Shape.collideCircleVsRect(shape, this, repoType, targetWeight, thisWeight, repoForce);\r\n        }\r\n        else if(shape instanceof Rectangle) {\r\n            return Shape.collideRectVsRect(this, shape, repoType, thisWeight, targetWeight, repoForce);\r\n        }\r\n    }\r\n}","export default class Keys {\r\n    static Backspace = 8;\r\n    static Tab = 9;\r\n    static Enter = 13;\r\n    static Shift = 16;\r\n    static Ctrl = 17;\r\n    static Alt = 18;\r\n    static PauseBreak = 19;\r\n    static CapsLock = 20;\r\n    static Esc = 27;\r\n    static Space = 32;\r\n    static PageUp = 33;\r\n    static PageDown = 34;\r\n    static End = 35;\r\n    static Home = 36;\r\n    static Left = 37;\r\n    static Up = 38;\r\n    static Right = 39;\r\n    static Down = 40;\r\n    static Insert = 45;\r\n    static Delete = 46;\r\n    static Oem0 = 48;\r\n    static Oem1 = 49;\r\n    static Oem2 = 50;\r\n    static Oem3 = 51;\r\n    static Oem4 = 52;\r\n    static Oem5 = 53;\r\n    static Oem6 = 54;\r\n    static Oem7 = 55;\r\n    static Oem8 = 56;\r\n    static Oem9 = 57;\r\n    static A = 65;\r\n    static B = 66;\r\n    static C = 67;\r\n    static D = 68;\r\n    static E = 69;\r\n    static F = 70;\r\n    static G = 71;\r\n    static H = 72;\r\n    static I = 73;\r\n    static J = 74;\r\n    static K = 75;\r\n    static L = 76;\r\n    static M = 77;\r\n    static N = 78;\r\n    static O = 79;\r\n    static P = 80;\r\n    static Q = 81;\r\n    static R = 82;\r\n    static S = 83;\r\n    static T = 84;\r\n    static U = 85;\r\n    static V = 86;\r\n    static W = 87;\r\n    static X = 88;\r\n    static Y = 89;\r\n    static Z = 90;\r\n    static Windows = 91;\r\n    static RightClick = 93;\r\n    static Num0 = 96;\r\n    static Num1 = 97;\r\n    static Num2 = 98;\r\n    static Num3 = 99;\r\n    static Num4 = 100;\r\n    static Num5 = 101;\r\n    static Num6 = 102;\r\n    static Num7 = 103;\r\n    static Num8 = 104;\r\n    static Num9 = 105;\r\n    static NumStar = 106;\r\n    static NumPlus = 107;\r\n    static NumMinus = 109;\r\n    static NumPeriod = 110;\r\n    static NumSlash = 111;\r\n    static F1 = 112;\r\n    static F2 = 113;\r\n    static F3 = 114;\r\n    static F4 = 115;\r\n    static F5 = 116;\r\n    static F6 = 117;\r\n    static F7 = 118;\r\n    static F8 = 119;\r\n    static F9 = 120;\r\n    static F10 = 121;\r\n    static F11 = 122;\r\n    static F12 = 123;\r\n    static NumLock = 144;\r\n    static ScrollLock = 145;\r\n    static MyComputer = 182;\r\n    static MyCalculator = 183;\r\n    static Semicolon = 186;\r\n    static Equal = 187;\r\n    static Comma = 188;\r\n    static Dash = 189;\r\n    static Period = 190;\r\n    static ForwardSlash = 191;\r\n    static Tick = 192;\r\n    static LeftBracket = 219;\r\n    static Backslash = 220;\r\n    static RightBracket = 221;\r\n    static SingleQuote = 222;\r\n    static char8 = \"Backspace\";\r\n    static char9 = \"Tab\";\r\n    static char13 = \"Enter\";\r\n    static char16 = \"Shift\";\r\n    static char17 = \"Ctrl\";\r\n    static char18 = \"Alt\";\r\n    static char19 = \"PauseBreak\";\r\n    static char20 = \"CapsLock\";\r\n    static char27 = \"Esc\";\r\n    static char32 = \"Space\";\r\n    static char33 = \"PageUp\";\r\n    static char34 = \"PageDown\";\r\n    static char35 = \"End\";\r\n    static char36 = \"Home\";\r\n    static char37 = \"Left\";\r\n    static char38 = \"Up\";\r\n    static char39 = \"Right\";\r\n    static char40 = \"Down\";\r\n    static char45 = \"Insert\";\r\n    static char46 = \"Delete\";\r\n    static char48 = \"Oem0\";\r\n    static char49 = \"Oem1\";\r\n    static char50 = \"Oem2\";\r\n    static char51 = \"Oem3\";\r\n    static char52 = \"Oem4\";\r\n    static char53 = \"Oem5\";\r\n    static char54 = \"Oem6\";\r\n    static char55 = \"Oem7\";\r\n    static char56 = \"Oem8\";\r\n    static char57 = \"Oem9\";\r\n    static char65 = \"A\";\r\n    static char66 = \"B\";\r\n    static char67 = \"C\";\r\n    static char68 = \"D\";\r\n    static char69 = \"E\";\r\n    static char70 = \"F\";\r\n    static char71 = \"G\";\r\n    static char72 = \"H\";\r\n    static char73 = \"I\";\r\n    static char74 = \"J\";\r\n    static char75 = \"K\";\r\n    static char76 = \"L\";\r\n    static char77 = \"M\";\r\n    static char78 = \"N\";\r\n    static char79 = \"O\";\r\n    static char80 = \"P\";\r\n    static char81 = \"Q\";\r\n    static char82 = \"R\";\r\n    static char83 = \"S\";\r\n    static char84 = \"T\";\r\n    static char85 = \"U\";\r\n    static char86 = \"V\";\r\n    static char87 = \"W\";\r\n    static char88 = \"X\";\r\n    static char89 = \"Y\";\r\n    static char90 = \"Z\";\r\n    static char91 = \"Windows\";\r\n    static char93 = \"RightClick\";\r\n    static char96 = \"Num0\";\r\n    static char97 = \"Num1\";\r\n    static char98 = \"Num2\";\r\n    static char99 = \"Num3\";\r\n    static char100 = \"Num4\";\r\n    static char101 = \"Num5\";\r\n    static char102 = \"Num6\";\r\n    static char103 = \"Num7\";\r\n    static char104 = \"Num8\";\r\n    static char105 = \"Num9\";\r\n    static char106 = \"NumStar\";\r\n    static char107 = \"NumPlus\";\r\n    static char109 = \"NumMinus\";\r\n    static char110 = \"NumPeriod\";\r\n    static char111 = \"NumSlash\";\r\n    static char112 = \"F1\";\r\n    static char113 = \"F2\";\r\n    static char114 = \"F3\";\r\n    static char115 = \"F4\";\r\n    static char116 = \"F5\";\r\n    static char117 = \"F6\";\r\n    static char118 = \"F7\";\r\n    static char119 = \"F8\";\r\n    static char120 = \"F9\";\r\n    static char121 = \"F10\";\r\n    static char122 = \"F11\";\r\n    static char123 = \"F12\";\r\n    static char144 = \"NumLock\";\r\n    static char145 = \"ScrollLock\";\r\n    static char182 = \"MyComputer\";\r\n    static char183 = \"MyCalculator\";\r\n    static char186 = \"Semicolon\";\r\n    static char187 = \"Equal\";\r\n    static char188 = \"Comma\";\r\n    static char189 = \"Dash\";\r\n    static char190 = \"Period\";\r\n    static char191 = \"ForwardSlash\";\r\n    static char192 = \"Tick\";\r\n    static char219 = \"LeftBracket\";\r\n    static char220 = \"Backslash\";\r\n    static char221 = \"RightBracket\";\r\n    static char222 = \"SingleQuote\"\r\n}","import RepositionType from './RepositionType.js';\r\nimport Positionable from './Positionable.js';\r\nimport MathUtil from '../Utility/MathUtil.js';\r\n\r\nexport default class Shape extends Positionable {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    get absolutePosition() {\r\n        let absPos = {x: 0, y: 0, rotation: 0};\r\n\r\n        if(this.parent != null) {\r\n            let parentAbsPos = this.parent.absolutePosition;\r\n            let magnitude = MathUtil.length(this.x, this.y);\r\n            absPos.x = Math.cos(parentAbsPos.rotation) * magnitude + parentAbsPos.x;\r\n            absPos.y = Math.sin(parentAbsPos.rotation) * magnitude + parentAbsPos.y;\r\n            absPos.rotation = parentAbsPos.rotation + this.rotation;\r\n        }\r\n        else {\r\n            absPos.x = this.x;\r\n            absPos.y = this.y;\r\n            absPos.rotation = this.rotation;\r\n        }\r\n\r\n        return absPos;\r\n    }\r\n\r\n    static collideCircleVsCircle(circle1, circle2, repositionType = RepositionType.None, circle1Weight = 1, circle2Weight = 0, forceScale = 1) {\r\n        // figure out if we're overlapping by calculating\r\n        // if the distance apart is less than the sum of the radii\r\n        let delta = MathUtil.vectorSubtract(circle2.absolutePosition, circle1.absolutePosition);\r\n        let distApart = MathUtil.length(delta.x, delta.y);\r\n        let collideDist = circle1.radius + circle2.radius;\r\n        let overlap = collideDist - distApart;\r\n        let didCollide = overlap > 0;\r\n\r\n        if(didCollide && repositionType != RepositionType.None) {\r\n            let normalDelta = MathUtil.vectorNormalize(delta);\r\n\r\n            // just pick a default direction in case of perfect overlap\r\n            if(MathUtil.vectorLength(normalDelta) == 0) {\r\n                normalDelta.y = 1;\r\n            }\r\n            \r\n            let circle1Factor = circle2Weight / (circle1Weight + circle2Weight);\r\n            let circle2Factor = circle1Weight / (circle1Weight + circle2Weight);\r\n\r\n            circle1.root.position.x += normalDelta.x * -(overlap * circle1Factor);\r\n            circle1.root.position.y += normalDelta.y * -(overlap * circle1Factor);\r\n\r\n            circle2.root.position.x += normalDelta.x * (overlap * circle2Factor);\r\n            circle2.root.position.y += normalDelta.y * (overlap * circle2Factor);\r\n\r\n            if(repositionType == RepositionType.Bounce) {\r\n                let velocityLength = MathUtil.vectorDot(MathUtil.vectorSubtract(circle1.root.velocity, circle2.root.velocity), normalDelta) * forceScale;\r\n                \r\n                let circle1VelocityAdjust = MathUtil.vectorMultiply(normalDelta, velocityLength * circle1Factor);\r\n                circle1.root.velocity.x -= circle1VelocityAdjust.x * 2;\r\n                circle1.root.velocity.y -= circle1VelocityAdjust.y * 2;\r\n\r\n                let circle2VelocityAdjust = MathUtil.vectorMultiply(normalDelta, velocityLength * circle2Factor);\r\n                circle2.root.velocity.x += circle2VelocityAdjust.x * 2;\r\n                circle2.root.velocity.y += circle2VelocityAdjust.y * 2;\r\n            }\r\n        }\r\n\r\n        return didCollide;\r\n    }\r\n\r\n    static collideCircleVsRect(circle, rect, repositionType = RepositionType.None, circleWeight = 1, rectWeight = 0, forceScale = 1) {\r\n        // figure out if we're overlapping on each axis by\r\n        // calculating if the distance apart is larger than\r\n        // the sum of half of the widths\r\n        let xCollisionDist = circle.radius + (rect.width / 2);\r\n        let xDist = circle.absolutePosition.x - rect.absolutePosition.x;\r\n        let xOverlap = xCollisionDist - Math.abs(xDist);\r\n\r\n        let yCollisionDist = circle.radius + (rect.height / 2);\r\n        let yDist = circle.absolutePosition.y - rect.absolutePosition.y;\r\n        let yOverlap = yCollisionDist - Math.abs(yDist);\r\n\r\n        // if overlap is positive on both axis, there's a collision\r\n        let didCollide = (xOverlap > 0) && (yOverlap > 0);\r\n\r\n        if(didCollide && repositionType != RepositionType.None) {\r\n\r\n            // TODO: handle corners!\r\n\r\n            let normalDelta = {\r\n                x: (xOverlap <= yOverlap ? 1 : 0) * Math.sign(xDist),\r\n                y: (xOverlap >= yOverlap ? 1 : 0) * Math.sign(yDist)\r\n            };\r\n\r\n            // just pick a default direction in case of perfect overlap\r\n            if(MathUtil.vectorLength(normalDelta) == 0) {\r\n                normalDelta.y = 1;\r\n            }\r\n\r\n            let circleFactor = rectWeight / (circleWeight + rectWeight);\r\n            let rectFactor = circleWeight / (circleWeight + rectWeight);\r\n\r\n            circle.root.position.x += normalDelta.x * xOverlap * circleFactor;\r\n            circle.root.position.y += normalDelta.y * yOverlap * circleFactor;\r\n\r\n            rect.root.position.x -= normalDelta.x * xOverlap * rectFactor;\r\n            rect.root.position.y -= normalDelta.y * yOverlap * rectFactor;\r\n\r\n            if(repositionType == RepositionType.Bounce) {\r\n                let velocityLength = MathUtil.vectorDot(MathUtil.vectorSubtract(circle.root.velocity, rect.root.velocity), normalDelta) * forceScale;\r\n                \r\n                let circleVelocityAdjust = MathUtil.vectorMultiply(normalDelta, velocityLength * circleFactor);\r\n                circle.root.velocity.x -= circleVelocityAdjust.x * 2;\r\n                circle.root.velocity.y -= circleVelocityAdjust.y * 2;\r\n\r\n                let rectVelocityAdjust = MathUtil.vectorMultiply(normalDelta, velocityLength * rectFactor);\r\n                rect.root.velocity.x += rectVelocityAdjust.x * 2;\r\n                rect.root.velocity.y += rectVelocityAdjust.y * 2;\r\n            }\r\n        }\r\n\r\n        return didCollide;\r\n    }\r\n\r\n    static collideRectVsRect(rect1, rect2, repositionType = RepositionType.None, rect1Weight = 1, rect2Weight = 0, forceScale = 1) {\r\n        // figure out if we're overlapping on each axis by\r\n        // calculating if the distance apart is larger than\r\n        // the sum of half of the widths\r\n        let xCollisionDist = (rect1.width / 2) + (rect2.width / 2);\r\n        let xDist = rect1.absolutePosition.x - rect2.absolutePosition.x;\r\n        let xOverlap = xCollisionDist - Math.abs(xDist);\r\n\r\n        let yCollisionDist = (rect1.height / 2) + (rect2.height / 2);\r\n        let yDist = rect1.absolutePosition.y - rect2.absolutePosition.y;\r\n        let yOverlap = yCollisionDist - Math.abs(yDist);\r\n\r\n        // if overlap is positive on both axis, there's a collision\r\n        let didCollide = (xOverlap > 0) && (yOverlap > 0);\r\n\r\n        if(didCollide && repositionType != RepositionType.None) {\r\n\r\n            let normalDelta = {\r\n                x: (xOverlap <= yOverlap ? 1 : 0) * Math.sign(xDist),\r\n                y: (xOverlap <= yOverlap ? 0 : 1) * Math.sign(yDist)\r\n            };\r\n\r\n            // just pick a default direction in case of perfect overlap\r\n            if(MathUtil.vectorLength(normalDelta) == 0) {\r\n                normalDelta.y = 1;\r\n            }\r\n\r\n            let rect1Factor = rect2Weight / (rect1Weight + rect2Weight);\r\n            let rect2Factor = rect1Weight / (rect1Weight + rect2Weight);\r\n\r\n            rect1.root.position.x += normalDelta.x * xOverlap * rect1Factor;\r\n            rect1.root.position.y += normalDelta.y * yOverlap * rect1Factor;\r\n\r\n            rect2.root.position.x -= normalDelta.x * xOverlap * rect2Factor;\r\n            rect2.root.position.y -= normalDelta.y * yOverlap * rect2Factor;\r\n\r\n            if(repositionType == RepositionType.Bounce) {\r\n                let velocityLength = MathUtil.vectorDot(MathUtil.vectorSubtract(rect1.root.velocity, rect2.root.velocity), normalDelta) * forceScale;\r\n                \r\n                let r1VelocityAdjust = MathUtil.vectorMultiply(normalDelta, velocityLength * rect1Factor);\r\n                rect1.root.velocity.x -= r1VelocityAdjust.x * 2;\r\n                rect1.root.velocity.y -= r1VelocityAdjust.y * 2;\r\n\r\n                let r2VelocityAdjust = MathUtil.vectorMultiply(normalDelta, velocityLength * rect2Factor);\r\n                rect2.root.velocity.x += r2VelocityAdjust.x * 2;\r\n                rect2.root.velocity.y += r2VelocityAdjust.y * 2;\r\n            }\r\n        }\r\n\r\n        return didCollide;\r\n    }\r\n}","export default class Mouse {\r\n    static Left = 1;\r\n    static Middle = 2;\r\n    static Right = 3;\r\n    static button1 = \"Left\";\r\n    static button2 = \"Middle\";\r\n    static button3 = \"Right\"\r\n}","import FrostFlake from '../FrostFlake.js';\r\nimport MathUtil from '../Utility/MathUtil.js';\r\n\r\nexport default class Positionable {\r\n\r\n    // NOTE: this is only used for debug drawing\r\n    color = \"red\";\r\n\r\n    position = {x: 0, y: 0, rotation: 0}\r\n    velocity = {x: 0, y: 0, rotation: 0}\r\n    acceleration = {x: 0, y: 0, rotation: 0}\r\n    visible = true;\r\n    drag = 0;\r\n    layer = 0;\r\n    parent = null;\r\n    children = [];\r\n    destroyed = false;\r\n    applyRotationAccelerationAndDrag = false;\r\n    \r\n    get x() {\r\n        return this.position.x;\r\n    }\r\n\r\n    set x(val) {\r\n        this.position.x = val;\r\n    }\r\n\r\n    get y() {\r\n        return this.position.y;\r\n    }\r\n\r\n    set y(val) {\r\n        this.position.y = val;\r\n    }\r\n\r\n    get rotation() {\r\n        return this.position.rotation;\r\n    }\r\n\r\n    set rotation(val) {\r\n        this.position.rotation = val;\r\n    }\r\n\r\n    get absolutePosition() {\r\n        let absPos = {x: 0, y: 0, rotation: 0};\r\n\r\n        if(this.parent != null) {\r\n            let parentAbsPos = this.parent.absolutePosition;\r\n            let magnitude = MathUtil.length(this.x, this.y);\r\n            absPos.x = Math.cos(parentAbsPos.rotation) * magnitude + parentAbsPos.x;\r\n            absPos.y = Math.sin(parentAbsPos.rotation) * magnitude + parentAbsPos.y;\r\n            absPos.rotation = parentAbsPos.rotation + this.rotation;\r\n        }\r\n        else {\r\n            absPos.x = this.x;\r\n            absPos.y = this.y;\r\n            absPos.rotation = this.rotation;\r\n        }\r\n\r\n        return absPos;\r\n    }\r\n\r\n    get root() {\r\n        let obj = this;\r\n        while(obj.parent instanceof Positionable) {\r\n            obj = obj.parent;\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    constructor(x = 0, y = 0) {\r\n        \r\n    }\r\n\r\n    addChild(positionable) {\r\n        positionable.parent = this;\r\n        this.children.push(positionable);\r\n\r\n        //sort children by layer\r\n        this.children.sort((a, b) => {\r\n            return a.layer - b.layer;\r\n        });\r\n    }\r\n\r\n    removeChild(positionable) {\r\n        let i = this.children.indexOf(positionable);\r\n        if(i > -1) {\r\n            this.children.splice(i, 1);\r\n        }\r\n        positionable.parent = null;\r\n    }\r\n\r\n    attach(positionable) {\r\n        positionable.addChild(this);\r\n    }\r\n\r\n    detach() {\r\n        if(this.parent instanceof Positionable) {\r\n            this.parent.removeChild(this);\r\n        }\r\n    }\r\n\r\n    moveRootX(amt) {\r\n        let obj = this;\r\n        while(obj.parent instanceof Positionable) {\r\n            obj = obj.parent;\r\n        }\r\n        obj.position.x += amt;\r\n    }\r\n\r\n    moveRootY(amt) {\r\n        let obj = this;\r\n        while(obj.parent instanceof Positionable) {\r\n            obj = obj.parent;\r\n        }\r\n        obj.position.y += amt;\r\n    }\r\n\r\n    update() {\r\n        this.preUpdate();\r\n\r\n        let delta = FrostFlake.Game.time.frameSeconds;\r\n        let deltaSquaredHalved = delta * delta / 2;\r\n\r\n        this.position.x += (this.velocity.x * delta) + (this.acceleration.x * deltaSquaredHalved);\r\n        this.position.y += (this.velocity.y * delta) + (this.acceleration.y * deltaSquaredHalved);\r\n        this.position.rotation += (this.velocity.rotation * delta) + (this.acceleration.rotation * deltaSquaredHalved);\r\n\r\n        this.velocity.x += (this.acceleration.x * delta) - (this.drag * this.velocity.x * delta);\r\n        this.velocity.y += (this.acceleration.y * delta) - (this.drag * this.velocity.y * delta);\r\n\r\n        if(this.applyRotationAccelerationAndDrag) {\r\n            this.velocity.rotation += (this.acceleration.rotation * delta) - (this.drag * this.velocity.rotation * delta);\r\n        }\r\n\r\n        this.position.rotation = MathUtil.normalizeAngle(this.position.rotation);\r\n\r\n        // update children\r\n        for(let i = 0; i < this.children.length; i++) {\r\n            this.children[i].update();\r\n        }\r\n    }\r\n\r\n    // this method is intentionally empty so devs can inject custom logic into the update cycle\r\n    preUpdate() {}\r\n\r\n    destroy() {\r\n        this.detach();\r\n\r\n        // cascade destroy to children\r\n        if(this.children.length > 0) {\r\n            for(let i = this.children.length - 1; i > -1; i--) {\r\n                this.children[i].destroy();\r\n                this.children.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        this.destroyed = true;\r\n    }\r\n}","import Shape from './Shape.js';\r\nimport Rectangle from './Rectangle.js';\r\n\r\nexport default class Circle extends Shape {\r\n    radius;\r\n\r\n    constructor(radius = 16) {\r\n        super();\r\n        this.radius = radius;\r\n    }\r\n\r\n    collideWith(shape, repoType = RepositionType.None, thisWeight = 1, targetWeight = 0, repoForce = 1) {\r\n        if(shape instanceof Circle) {\r\n            return Shape.collideCircleVsCircle(this, shape, repoType, thisWeight, targetWeight, repoForce);\r\n        }\r\n        else if(shape instanceof Rectangle) {\r\n            return Shape.collideCircleVsRect(this, shape, repoType, thisWeight, targetWeight, repoForce);\r\n        }\r\n    }\r\n}","import View from '../src/Views/View.js';\r\nimport RepositionType from '../src/Positionables/RepositionType.js';\r\nimport Sprite from '../src/Positionables/Sprite.js';\r\nimport Rectangle from '../src/Positionables/Rectangle.js';\r\nimport Frame from '../src/Drawing/Frame.js';\r\nimport MathUtil from '../src/Utility/MathUtil.js';\r\nimport Data from '../src/Data/Data.js';\r\n\r\n// This class demonstrates how to define collision shapes\r\n// on a sprite and how to perform collision using\r\n// FrostFlake's simple built-in physics\r\n\r\nexport default class CollisionDemo extends View {\r\n\r\n    walls = [];\r\n    balls = [];\r\n\r\n    async initialize() {\r\n        await super.initialize();\r\n\r\n        // load content required by this view\r\n        await Data.loadImage('/content/spritesheet.png');\r\n        await Data.loadImage('/content/frostflake.png');\r\n\r\n        // create balls and walls\r\n        this.createWalls();\r\n        this.createBalls();\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n\r\n        // During each game tick we must check every ball against\r\n        // walls and against each other using nested loops.\r\n        // In many collision loops, objects are destroyed (such as\r\n        // shots colliding with a target). It is a good practice to \r\n        // loop in reverse so if an object is destroyed during collision\r\n        // testing, it does not corrupt the loop index!\r\n        for(let i = this.balls.length - 1; i > -1; i--) {\r\n\r\n            // create a shortcut reference for readability.\r\n            // This is the outer loop colliding object\r\n            let ball1 = this.balls[i];\r\n\r\n            // collide with other balls. We can start our loop at\r\n            // index \"i\" because every index between i and the array\r\n            // length has already been tested\r\n            for(let j = i; j > -1; j--) {\r\n\r\n                // create a shortcut reference for readibility.\r\n                // This is the inner loop colliding object.\r\n                let ball2 = this.balls[j];\r\n\r\n                // make sure we're not colliding an object with itself\r\n                if(ball1 != ball2) {\r\n\r\n                    // Collide with \"bounce repositioning\", which will apply physics.\r\n                    // Give each object a weight of 0.5 so they have equal inertia.\r\n                    // Set the bounce force to 1, which means momentum is preserved.\r\n                    // Values less than one will lose momentum, greater than one will gain momentum\r\n                    if(ball1.collision.collideWith(ball2.collision, RepositionType.Bounce, 0.5, 0.5, 1) == true) {\r\n                        ball1.velocity.rotation = MathUtil.randomInRange(-3, 3);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // collide with walls\r\n            for(let k = this.walls.length - 1; k > -1; k--) {\r\n                let wall = this.walls[k];\r\n                if(ball1.collision.collideWith(wall.collision, RepositionType.Bounce, 0, 1, 1) == true) {\r\n                    ball1.velocity.rotation = MathUtil.randomInRange(-3, 3);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // This method creates collideable walls around the view\r\n    // These sprites have axis-aligned rectangle collision and\r\n    // added to an array of walls for collision testing\r\n    createWalls() {\r\n\r\n        // create floor and ceiling sprites\r\n        for(let x = 0; x < 20; x++) {\r\n            let w1 = new Sprite('/content/spritesheet.png');\r\n            w1.collision = new Rectangle(32, 32);\r\n            w1.frame = new Frame(7 * 32, 1 * 32, 32, 32);\r\n            w1.x = -320 + (x * 32) + 16;\r\n            w1.y = 240 - 16;\r\n            this.walls.push(w1);\r\n            this.addChild(w1);\r\n\r\n            let w2 = new Sprite('/content/spritesheet.png');\r\n            w2.collision = new Rectangle(32, 32);\r\n            w2.frame = new Frame(7 * 32, 1 * 32, 32, 32);\r\n            w2.x = -320 + (x * 32) + 16;\r\n            w2.y = -240 + 16;\r\n            this.walls.push(w2);\r\n            this.addChild(w2);\r\n        }\r\n\r\n        // create walls\r\n        for(let y = 0; y < 14; y++) {\r\n            let w1 = new Sprite('/content/spritesheet.png');\r\n            w1.collision = new Rectangle(32, 32);\r\n            w1.frame = new Frame(7 * 32, 1 * 32, 32, 32);\r\n            w1.x = -320 + 16;\r\n            w1.y = -240 + (y * 32) + 16;\r\n            this.walls.push(w1);\r\n            this.addChild(w1);\r\n\r\n            let w2 = new Sprite('/content/spritesheet.png');\r\n            w2.collision = new Rectangle(32, 32);\r\n            w2.frame = new Frame(7 * 32, 1 * 32, 32, 32);\r\n            w2.x = 320 - 16;\r\n            w2.y = -240 + (y * 32) + 16;\r\n            this.walls.push(w2);\r\n            this.addChild(w2);\r\n        }\r\n    }\r\n\r\n    // This method creates some ball sprites\r\n    // that have circle collision. The sprites have\r\n    // random positions and velocity so they bounce\r\n    // around the view. Each sprite is added to\r\n    // a collection of balls for collision testing.\r\n    createBalls() {\r\n        // make some things to collide\r\n        for(let i = 0; i < 25; i++) {\r\n            let s = new Sprite('/content/frostflake.png');\r\n            s.position.x = MathUtil.randomInRange(-200, 200);\r\n            s.position.y = MathUtil.randomInRange(-200, 200);\r\n            s.velocity.x = MathUtil.randomInRange(-300, 300);\r\n            s.velocity.y = MathUtil.randomInRange(-300, 300);\r\n            this.balls.push(s);\r\n            this.addChild(s);\r\n        }\r\n    }\r\n}","import FrostFlake from '../src/FrostFlake.js';\r\nimport Sprite from '../src/Positionables/Sprite.js';\r\nimport View from '../src/Views/View.js';\r\nimport MathUtil from '../src/Utility/MathUtil.js';\r\nimport Frame from '../src/Drawing/Frame.js';\r\nimport Mouse from '../src/Input/Mouse.js';\r\nimport Keys from '../src/Input/Keys.js';\r\nimport Data from '../src/Data/Data.js';\r\n\r\n// This class demonstrates how to get input state\r\n// from the mouse and keyboard. It also demonstrates\r\n// how to put velocity and drag on the game camera\r\n\r\nexport default class InputDemo extends View {\r\n\r\n    cursorSprite;\r\n\r\n    async initialize() {\r\n        await super.initialize();\r\n\r\n        // load data required by this view\r\n        await Data.loadImage('/content/frostflake.png');\r\n        await Data.loadImage('/content/spritesheet.png');\r\n\r\n        // create some random sprites so camera movement is visible\r\n        for (let i = 0; i < 10; i++) {\r\n            let s = new Sprite('/content/frostflake.png');\r\n            s.x = MathUtil.randomInRange(-300, 300);\r\n            s.y = MathUtil.randomInRange(-200, 200);\r\n            s.alpha = MathUtil.randomInRange(0.2, 0.85);\r\n            s.velocity.rotation = MathUtil.randomInRange(-3, 3);\r\n            this.addChild(s);\r\n        }\r\n\r\n        // create a sprite based on part of a sprite sheet and add it to the View\r\n        // The frame defines the part of the spritesheet rendered by this sprite\r\n        this.cursorSprite = new Sprite('/content/spritesheet.png');\r\n        this.cursorSprite.frame = new Frame(32, 0, 32, 32);\r\n        this.addChild(this.cursorSprite);\r\n\r\n        // give the camera drag so it always slows down\r\n        FrostFlake.Game.camera.drag = 3;\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n\r\n        // shortcuts for readability\r\n        let input = FrostFlake.Game.input;\r\n        let cursor = input.cursor;\r\n        let cam = FrostFlake.Game.camera;\r\n\r\n        // Pressing WASD gives the camera velocity,\r\n        // causing it to move. The camera drag will\r\n        // slow the camera down as soon as the button\r\n        // is released\r\n        if (input.keyDown(Keys.W)) {\r\n            cam.velocity.y = 100;\r\n        }\r\n        else if (input.keyDown(Keys.S)) {\r\n            cam.velocity.y = -100;\r\n        }\r\n        if (input.keyDown(Keys.A)) {\r\n            cam.velocity.x = -100;\r\n        }\r\n        else if (input.keyDown(Keys.D)) {\r\n            cam.velocity.x = 100;\r\n        }\r\n\r\n        // make cursorSprite follow hardware cursor\r\n        this.cursorSprite.x = cursor.worldX;\r\n        this.cursorSprite.y = cursor.worldY;\r\n\r\n        // make the cursor spin when the mouse button is pressed\r\n        if(input.buttonDown(Mouse.Left)) {\r\n            this.cursorSprite.velocity.rotation = 3;\r\n        }\r\n        else {\r\n            this.cursorSprite.velocity.rotation = 0;\r\n        }\r\n    }\r\n}","import FrostFlake from '../src/FrostFlake.js';\r\nimport Sprite from '../src/Positionables/Sprite.js';\r\nimport View from '../src/Views/View.js';\r\nimport MathUtil from '../src/Utility/MathUtil.js';\r\nimport Data from '../src/Data/Data.js';\r\n\r\n// This class demonstrates how to create sprites,\r\n// add the sprites to the current view,\r\n// and give them a few custom properties.\r\n// This view also serves as a load test\r\n\r\nexport default class ManySpritesDemo extends View {\r\n\r\n    async initialize() {\r\n        await super.initialize();\r\n\r\n        // load data required by this view\r\n        await Data.loadImage('/content/frostflake.png');\r\n\r\n        // Create 2000 sprites\r\n        for (let i = 0; i < 2000; i++) {\r\n\r\n            // create a new sprite, passing a path to an image file\r\n            let s = new Sprite('/content/frostflake.png');\r\n\r\n            // randomize the sprite's position\r\n            s.x = MathUtil.randomInRange(-300, 300);\r\n            s.y = MathUtil.randomInRange(-200, 200);\r\n\r\n            // randomize the alpha (transparency)\r\n            s.alpha = MathUtil.randomInRange(0.2, 0.85);\r\n\r\n            // randomize the rotation velocity\r\n            s.velocity.rotation = MathUtil.randomInRange(-3, 3);\r\n\r\n            // add the sprite to this view so it is updated and rendered\r\n            this.addChild(s);\r\n        }\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n\r\n        // get the ave FPS from the GameTime instance and log it\r\n        FrostFlake.Log.info(FrostFlake.Game.time.aveFps());\r\n    }\r\n}","import FrostFlake from '../src/FrostFlake.js';\r\nimport Sprite from '../src/Positionables/Sprite.js';\r\nimport View from '../src/Views/View.js';\r\nimport Data from '../src/Data/Data.js';\r\n\r\n// This class demonstrates how the FrostFlake\r\n// scene graph works. Every Postionable object\r\n// (including Sprite) can have a parent and children.\r\n// When an object has a parent, it's coordinates and\r\n// rotation become relative to the parent.\r\n\r\nexport default class ParentChildDemo extends View {\r\n    parentFlake;\r\n    childFlake1;\r\n    childFlake2;\r\n\r\n    async initialize() {\r\n        await super.initialize();\r\n\r\n        // load data required by this view\r\n        await Data.loadImage('/content/frostflake.png');\r\n\r\n        // create a parent sprite and add it to the View sprites\r\n        this.parentFlake = new Sprite('/content/frostflake.png');\r\n        this.parentFlake.velocity.rotation = 3;\r\n        this.addChild(this.parentFlake);\r\n\r\n        // create and attach a child sprite\r\n        this.childFlake1 = new Sprite('/content/frostflake.png');\r\n        this.childFlake1.x = -40;\r\n        this.childFlake1.velocity.rotation = -5;\r\n        this.parentFlake.addChild(this.childFlake1);\r\n\r\n        // create and attach a child sprite\r\n        this.childFlake2 = new Sprite('/content/frostflake.png');\r\n        this.childFlake2.x = 40;\r\n        this.childFlake2.velocity.rotation = 5;\r\n        this.parentFlake.addChild(this.childFlake2);\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n\r\n        // log a child's relative versus absolute positions\r\n        let child = this.childFlake1;\r\n        FrostFlake.Log.info(`Relative vs absolute position: ${child.x},${child.y} - ${child.absolutePosition.x},${child.absolutePosition.y}`);\r\n    }\r\n}","import FrostFlake from '../src/FrostFlake.js';\r\nimport Sprite from '../src/Positionables/Sprite.js';\r\nimport View from '../src/Views/View.js';\r\nimport MathUtil from '../src/Utility/MathUtil.js';\r\nimport Data from '../src/Data/Data.js';\r\n\r\nexport default class RenderTargetDemo extends View {\r\n\r\n    static TEXTURE = '/content/frostflake.png';\r\n    static TARGETNAME = 'renderTarget';\r\n\r\n    async initialize() {\r\n        super.initialize();\r\n\r\n        // array to hold all of our sprites\r\n        let sprites = [];\r\n        let spriteCount = 100000;\r\n\r\n        // load the image we use for rendering our one-time texture\r\n        await Data.loadImage(RenderTargetDemo.TEXTURE);\r\n\r\n        // add a ton of sprites\r\n        FrostFlake.Log.info(`Adding ${spriteCount} sprites for one-time render`);\r\n        for (let i = 0; i < spriteCount; i++) {\r\n            let s = new Sprite(RenderTargetDemo.TEXTURE);\r\n            s.x = MathUtil.randomInRange(-300, 300);\r\n            s.y = MathUtil.randomInRange(-200, 200);\r\n            s.alpha = MathUtil.randomInRange(0.2, 0.85);\r\n            s.scale = MathUtil.randomInRange(0.15, 0.2);\r\n            s.position.rotation = MathUtil.randomInRange(-3, 3);\r\n\r\n            // add the sprite to the array\r\n            sprites.push(s);\r\n        }\r\n\r\n        // now render all of the sprites to a new custom image\r\n        await FrostFlake.Game.renderer.renderCustomImage(RenderTargetDemo.TARGETNAME, sprites, 640, 480);\r\n\r\n        // finally create a sprite that uses the custom image\r\n        let renderedSprite = new Sprite(RenderTargetDemo.TARGETNAME);\r\n        renderedSprite.velocity.rotation = MathUtil.randomInRange(-3, 3);\r\n        this.addChild(renderedSprite);\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n    }\r\n\r\n}","import FrostFlake from '../FrostFlake.js';\r\n\r\nexport default class Animation {\r\n    name = '';\r\n    frames = [];\r\n    texture = '';\r\n    playing = true;\r\n    looping = true;\r\n\r\n    frameIndex = -1;\r\n    #secondsLeftInFrame = 0;\r\n\r\n    get currentFrame() {\r\n        return this.frames[this.frameIndex];\r\n    }\r\n\r\n    start() {\r\n        if(this.frameIndex < 0) {\r\n            this.restart();\r\n        }\r\n        this.playing = true;\r\n    }\r\n\r\n    stop() {\r\n        this.playing = false;\r\n    }\r\n\r\n    restart() {\r\n        this.frameIndex = 0;\r\n        this.#secondsLeftInFrame = this.currentFrame.seconds;\r\n        this.playing = true;\r\n    }\r\n\r\n    update() {\r\n        let delta = FrostFlake.Game.time.frameSeconds;\r\n        if(this.playing && this.frames && this.frames.length > 1) {\r\n            this.#secondsLeftInFrame -= delta;\r\n\r\n            while(this.#secondsLeftInFrame <= 0) {\r\n                if(this.frameIndex < this.frames.length - 1) {\r\n                    this.frameIndex += 1;\r\n                }\r\n                else {\r\n                    if(this.looping) {\r\n                        this.frameIndex = 0;\r\n                    }\r\n                }\r\n\r\n                this.#secondsLeftInFrame += this.currentFrame.seconds;\r\n\r\n                // we can never exit this loop because this frame is zero seconds long\r\n                // force exit\r\n                if(this.#secondsLeftInFrame < 0 && this.currentFrame.seconds <= 0) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import View from '../src/Views/View.js';\r\nimport Sprite from '../src/Positionables/Sprite.js';\r\nimport Frame from '../src/Drawing/Frame.js';\r\nimport Animation from '../src/Drawing/Animation.js';\r\nimport Data from '../src/Data/Data.js';\r\n\r\n// This class demonstrates frame-based animation.\r\n// The animation class stores a series of frames and\r\n// frame timings. Setting an animation on a sprite\r\n// overrides any existing frame or texture data.\r\n\r\nexport default class AnimationDemo extends View {\r\n\r\n    async initialize() {\r\n        await super.initialize();\r\n\r\n        // load content used by this view\r\n        await Data.loadImage('/content/spritesheet.png');\r\n\r\n        // create an animation object with 8, 0.1 second frames\r\n        let runCycle = new Animation();\r\n        runCycle.texture = '/content/spritesheet.png';\r\n        runCycle.frames = [\r\n            new Frame(0, 160, 16, 16, 0.1),\r\n            new Frame(16, 160, 16, 16, 0.1),\r\n            new Frame(32, 160, 16, 16, 0.1),\r\n            new Frame(48, 160, 16, 16, 0.1),\r\n            new Frame(64, 160, 16, 16, 0.1),\r\n            new Frame(80, 160, 16, 16, 0.1),\r\n            new Frame(96, 160, 16, 16, 0.1),\r\n            new Frame(112, 160, 16, 16, 0.1)\r\n        ];\r\n\r\n        // create a sprite and set the animation\r\n        let sprite = new Sprite();\r\n        sprite.animation = runCycle;\r\n\r\n        // the sprite is only 16x16, increase it's scale\r\n        // for easier visibility\r\n        sprite.scale = 3;\r\n\r\n        this.addChild(sprite);\r\n    }\r\n}","/**\r\n * Webpack will look for this file to build the code for your game.\r\n * Overwite the contents of this file and run `npm run build` in the terminal to see your changes.\r\n */\r\n\r\nimport FrostFlake from './FrostFlake.js';\r\nimport View from './Views/View.js';\r\nimport AnimationDemo from '../demos/AnimationDemo.js';\r\nimport CollisionDemo from '../demos/CollisionDemo.js';\r\nimport InputDemo from '../demos/InputDemo.js';\r\nimport ManySpritesDemo from '../demos/ManySpritesDemo.js';\r\nimport ParentChildDemo from '../demos/ParentChildDemo.js';\r\nimport RenderTargetDemo from '../demos/RenderTargetDemo.js';\r\n\r\nconst canvas = document.getElementById('frostFlake');\r\nconst ff = new FrostFlake(canvas, 60);\r\nff.showDebug = false;\r\nff.start();\r\n\r\nconst buttons = document.getElementsByTagName('button');\r\nfor (let i = 0; i < buttons.length; i++) {\r\n    let view = buttons[i].id;\r\n    buttons[i].addEventListener('click', evt => {\r\n        console.clear();\r\n        ff.camera.reset();\r\n        if (view == \"Empty\") {\r\n            ff.view = new View();\r\n        }\r\n        else {\r\n            ff.view = eval(`new ${view}`);\r\n        }\r\n    });\r\n}\r\n\r\nwindow.ff = ff;\r\nwindow.AnimationDemo = AnimationDemo;\r\nwindow.CollisionDemo = CollisionDemo;\r\nwindow.InputDemo = InputDemo;\r\nwindow.ManySpritesDemo = ManySpritesDemo;\r\nwindow.ParentChildDemo = ParentChildDemo;\r\nwindow.RenderTargetDemo = RenderTargetDemo;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;"],"sourceRoot":""}